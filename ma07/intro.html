{% extends "base.html" %}
{% block content %}
<style>
    .page-container { max-width: 900px; margin: 0 auto; padding: 20px; font-family: sans-serif; }
    .step-navigation { display: flex; gap: 10px; align-items: center; justify-content: center; margin-bottom: 30px; }
    .step-item { width: 120px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 25px; font-weight: bold; text-decoration: none; color: #666; background: #f8fafc; border: 1px solid #e2e8f0; }
    .step-item.active { background: #fef3c7; color: #92400e; border: 2px solid #f59e0b; }
    
    .intro-card { background: white; border-radius: 15px; border: 2px solid #e2e8f0; padding: 35px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .intro-card h2 { color: #b45309; border-left: 5px solid #f59e0b; padding-left: 15px; margin-bottom: 20px; }

    .point-box { background: #fffbeb; border: 2px solid #f59e0b; padding: 25px; border-radius: 12px; margin: 25px 0; }
    .point-box h3 { color: #92400e; margin-top: 0; }
    
    /* å¤‰èº«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é¢¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .transformation-area { display: flex; align-items: center; justify-content: center; gap: 20px; margin: 25px 0; flex-wrap: wrap; }
    .math-flex { display: inline-flex; align-items: center; font-size: 2em; font-weight: bold; }
    
    /* åˆ†æ•°è¡¨ç¤ºã®èª¿æ•´ */
    .fraction-inline { display: inline-flex; flex-direction: column; align-items: center; vertical-align: middle; margin: 0 8px; line-height: 1.2; }
    .fraction-inline span:first-child { border-bottom: 2px solid #333; padding: 0 10px; }
    .fraction-inline span:last-child { padding: 0 10px; }

    .btn-next { display: inline-block; background: #f59e0b; color: white; padding: 18px 60px; border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 1.2em; box-shadow: 0 4px #b45309; transition: all 0.2s; }
    .btn-next:hover { transform: translateY(-2px); box-shadow: 0 6px #b45309; }

    .arrow { font-size: 1.5em; color: #f59e0b; font-weight: bold; }
</style>

<div class="page-container">
    <h1 style="color: #d97706; text-align: center; margin-bottom: 30px;">MA07 å¸¯åˆ†æ•°ã¨ä»®åˆ†æ•° ã€â‘  å°å…¥ã€‘</h1>

    <div class="step-navigation">
        <div class="step-item active">â‘  å°å…¥</div>
        <a href="{{ url_for('learning_page', subject='math', unit_code='MA07', page='example') }}" class="step-item">â‘¡ ä¾‹é¡Œ</a>
        <a href="{{ url_for('learning_page', subject='math', unit_code='MA07', page='drill') }}" class="step-item">â‘¢ æ¼”ç¿’</a>
        <a href="{{ url_for('learning_page', subject='math', unit_code='MA07', page='check') }}" class="step-item">â‘£ ç¢ºèª</a>
    </div>

    <div class="intro-card">
        <h2>å¸¯åˆ†æ•°ï¼ˆãŸã„ã¶ã‚“ã™ã†ï¼‰ã‚’ä»®åˆ†æ•°ã«ãªãŠãã†ï¼</h2>
        <p style="font-size: 1.2em; line-height: 1.8; color: #4b5563;">
            \(1\frac{2}{3}\) ã®ã‚ˆã†ã«ã€æ•´æ•°ã®ã¤ã„ãŸåˆ†æ•°ã‚’<b>ã€Œå¸¯åˆ†æ•°ã€</b>ã¨ã„ã„ã¾ã™ã€‚<br>
            è¨ˆç®—ã™ã‚‹ã¨ãã¯ã€ã“ã‚Œã‚’åˆ†å­ã®å¤§ãã„<b>ã€Œä»®åˆ†æ•°ã€</b>ã«ãªãŠã™ã¨ä¾¿åˆ©ã§ã™ï¼
        </p>

        <div class="point-box">
            <h3>ğŸ’¡ å¸¯åˆ†æ•° â” ä»®åˆ†æ•°ã®ãªãŠã—æ–¹</h3>
            <div class="transformation-area">
                <div class="math-flex">
                    1<div class="fraction-inline"><span>2</span><span>3</span></div>
                </div>
                
                <div class="arrow">â”</div>

                <div class="math-flex">
                    <div class="fraction-inline">
                        <span style="font-size: 0.7em;">(1 Ã— 3) + 2</span>
                        <span>3</span>
                    </div>
                </div>

                <div class="arrow">ï¼</div>

                <div class="math-flex" style="color: #d97706;">
                    <div class="fraction-inline"><span>5</span><span>3</span></div>
                </div>
            </div>
            <p style="text-align: center; font-weight: bold; font-size: 1.1em; color: #92400e;">
                ã€Œæ•´æ•° Ã— åˆ†æ¯ ï¼‹ åˆ†å­ã€ã‚’æ–°ã—ã„åˆ†å­ã«ã—ã¾ã—ã‚‡ã†ï¼
            </p>
        </div>

        <h3>ã©ã†ã—ã¦ã“ã†ãªã‚‹ã®ï¼Ÿ</h3>
        <p style="font-size: 1.1em; line-height: 1.7;">
            ã€Œ1ã€ã¯ \(\frac{3}{3}\) ã¨åŒã˜ã§ã™ã­ã€‚<br>
            ã ã‹ã‚‰ \(1\frac{2}{3}\) ã¯ã€\(\frac{3}{3}\) ã¨ \(\frac{2}{3}\) ã‚’ã‚ã‚ã›ãŸæ•°ã«ãªã‚Šã¾ã™ã€‚<br>
            åˆè¨ˆã§ <b>3å€‹ ï¼‹ 2å€‹ ï¼ 5å€‹</b> ã® \(\frac{1}{3}\) ãŒã‚ã‚‹ã®ã§ã€\(\frac{5}{3}\) ã«ãªã‚Šã¾ã™ã€‚
        </p>
    </div>

    <div style="text-align: center; margin-top: 40px;">
        <a href="{{ url_for('learning_page', subject='math', unit_code='MA07', page='example') }}" class="btn-next">ã‚„ã‚Šã‹ãŸã‚’ãƒã‚§ãƒƒã‚¯ â”</a>
    </div>
</div>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
{% endblock %}